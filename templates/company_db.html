{% extends 'base.html' %}

{% block head %}
    <title>Company Database</title>
{% endblock %}
{% block title1 %}Company Database{% endblock %}
{% block title2 %}Fetch from Individual{% endblock %}
{% block body %}
    <div class="content">
        <h1 class="mt-4" style="text-align: center">Company Database</h1><br>
        {% if items|length < 1 %}
            <h4 class="mt-4" style="width: 60%; margin: auto; text-align: center">There are no entries, please
                <a href="/fetch">fetch</a> some from the individual database using the item
                id and access token.</h4>
        {% else %}
            <div class="row justify-content-center">
                <div class="col-auto">
                    <table class="table table-responsive table-dark table-hover">
                        <thead>
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">Individual id</th>
                                <th scope="col">Content</th>
                                <th scope="col">Time fetched</th>
                            </tr>
                        </thead>
                        <tbody>
                        {% for item in items %}
                            <tr>
                                <td>{{ item.id }}</td>
                                <td>{{ item.individual_id }}</td>
                                <td>{{ item.name }}</td>
                                <td>{{ item.email }}</td>
                                <td>{{ item.phone }}</td>
                                <td>{{ item.blood }}</td>
                                <td>{{ item.date_fetched.strftime('%Y-%m-%d %H:%M:%S') }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        {% endif %}
        <br>
    </div>
{% endblock %}